[gd_scene load_steps=5 format=3 uid="uid://dmdo33trqjosk"]

[ext_resource type="PackedScene" uid="uid://6120fgf52qvi" path="res://assets/3d/buildings/building_01/sm_prototype_building_01.tscn" id="1_suqte"]
[ext_resource type="Script" uid="uid://s2ygu2v0ccp" path="res://components/teleporter.gd" id="2_s4trp"]

[sub_resource type="NavigationMesh" id="NavigationMesh_suqte"]
vertices = PackedVector3Array(-4.49029, 8.72403, -4.49474, -5.89029, 8.72403, -4.49474, -6.09029, 8.72403, -3.89474, -4.29029, 8.72403, -2.09474, -7.29029, 8.72403, -3.49474, -7.29029, 8.72403, -0.294743, -2.89029, 8.72403, -0.294743, -3.49029, 7.12403, -2.49474, -3.09029, 7.12403, -2.09474, -3.29029, 7.12403, -4.09474, -3.69029, 7.12403, -4.09474, -3.29029, 6.42403, 2.90526, -3.09029, 6.42403, 2.90526, -3.09029, 6.72403, 2.50526, -3.29029, 6.72403, 2.30526, 0.709713, 6.72403, 2.30526, 3.50971, 6.72403, 2.10526, 3.70971, 6.72403, 1.70526, 3.70971, 6.52403, -4.09474, -2.29029, 6.52403, -4.09474, -2.09029, 6.72403, 0.305257, -0.502229, 6.52403, -0.702005, 0.7018, 6.72403, 0.524364, 1.91379, 6.52403, -0.684425, 0.509712, 6.72403, 2.50526, 0.509712, 6.42403, 2.90526, 0.709713, 6.42403, 2.90526, -4.49029, 6.72403, 0.505257, -2.29029, 6.72403, 2.70526, -0.290287, 6.72403, 2.70526, -4.49029, 6.72403, 2.10526, 4.30971, 8.82403, 4.50526, 5.10971, 8.82403, 4.50526, 5.90971, 8.82403, 3.90526, 6.10971, 8.82403, 1.10526, 6.10971, 8.82403, 0.305257, 4.30971, 8.82403, 0.105257, -5.89029, 4.02403, 0.705257, -5.49029, 4.02403, 2.10526, -5.49029, 4.02403, 0.505257, -7.29029, 4.02403, 0.505257, -0.290287, 6.52403, 3.10526, 0.709713, 6.32403, 4.70526, -2.29029, 6.52403, 3.10526, -3.29029, 6.32403, 4.50526, -2.09029, 6.32403, 5.50526, -0.490287, 6.32403, 5.50526)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(2, 3, 4), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(10, 9, 7), PackedInt32Array(7, 9, 8), PackedInt32Array(12, 11, 13), PackedInt32Array(13, 11, 14), PackedInt32Array(19, 21, 20), PackedInt32Array(20, 22, 15), PackedInt32Array(15, 22, 16), PackedInt32Array(16, 22, 17), PackedInt32Array(17, 23, 18), PackedInt32Array(18, 21, 19), PackedInt32Array(21, 22, 20), PackedInt32Array(22, 23, 17), PackedInt32Array(23, 21, 18), PackedInt32Array(21, 23, 22), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 15), PackedInt32Array(28, 14, 29), PackedInt32Array(29, 14, 15), PackedInt32Array(15, 14, 20), PackedInt32Array(20, 14, 27), PackedInt32Array(15, 24, 29), PackedInt32Array(28, 13, 14), PackedInt32Array(14, 30, 27), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(34, 31, 35), PackedInt32Array(35, 31, 36), PackedInt32Array(39, 38, 37), PackedInt32Array(39, 37, 40), PackedInt32Array(25, 26, 41), PackedInt32Array(41, 26, 42), PackedInt32Array(12, 43, 11), PackedInt32Array(11, 43, 44), PackedInt32Array(43, 28, 41), PackedInt32Array(41, 28, 29), PackedInt32Array(44, 43, 45), PackedInt32Array(45, 43, 46), PackedInt32Array(46, 43, 41), PackedInt32Array(46, 41, 42)]
cell_size = 0.2
cell_height = 0.1
agent_radius = 0.3

[sub_resource type="BoxShape3D" id="BoxShape3D_s4trp"]
size = Vector3(1.34778, 1.06238, 1.04781)

[node name="PrefabBuilding01" type="Node3D"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_suqte")

[node name="SM_PrototypeBuilding_01" parent="NavigationRegion3D" instance=ExtResource("1_suqte")]

[node name="NavigationLink3D" type="NavigationLink3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.75676, 6.42315, 0.874064)
start_position = Vector3(-3.44, -6.295, 1.833)
end_position = Vector3(-0.1, 0.2, 0)
enter_cost = 2.0
travel_cost = 2.0

[node name="Teleporter" type="Area3D" parent="." node_paths=PackedStringArray("destination_mark")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.14928, 0.225501, 2.62946)
collision_layer = 0
collision_mask = 256
script = ExtResource("2_s4trp")
destination_mark = NodePath("../Teleporter2")
metadata/_custom_type_script = "uid://s2ygu2v0ccp"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Teleporter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0100098, 0.517517, -0.199265)
shape = SubResource("BoxShape3D_s4trp")

[node name="Teleporter2" type="Area3D" parent="." node_paths=PackedStringArray("destination_mark")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.19719, 6.46811, 1.22565)
collision_layer = 0
collision_mask = 256
script = ExtResource("2_s4trp")
destination_mark = NodePath("../Teleporter")
metadata/_custom_type_script = "uid://s2ygu2v0ccp"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Teleporter2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.173889, 0.517517, 0.0239029)
shape = SubResource("BoxShape3D_s4trp")
