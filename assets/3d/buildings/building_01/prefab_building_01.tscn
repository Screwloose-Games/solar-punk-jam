[gd_scene load_steps=5 format=3 uid="uid://dmdo33trqjosk"]

[ext_resource type="PackedScene" uid="uid://6120fgf52qvi" path="res://assets/3d/buildings/building_01/sm_prototype_building_01.tscn" id="1_suqte"]
[ext_resource type="Script" uid="uid://s2ygu2v0ccp" path="res://components/teleporter.gd" id="2_s4trp"]

[sub_resource type="NavigationMesh" id="NavigationMesh_suqte"]
vertices = PackedVector3Array(-4.44029, 8.72403, -4.49474, -5.69029, 8.72403, -4.49474, -6.19029, 8.72403, -3.74474, -4.44029, 8.72403, -1.99474, -7.19029, 8.72403, -3.49474, -7.19029, 8.72403, -0.494743, -3.19029, 8.72403, -0.494743, -2.19029, 6.52403, 3.25526, -3.19029, 6.32403, 3.25526, -3.19029, 6.32403, 4.50526, 0.559712, 6.32403, 4.50526, 0.559712, 6.32403, 3.25526, -0.440288, 6.52403, 3.25526, -2.19029, 6.32403, 5.25526, -0.190288, 6.32403, 5.25526, -0.440288, 6.72403, 2.50526, -2.19029, 6.72403, 2.50526, 3.30971, 6.72403, 2.00526, 3.55971, 6.72403, 1.50526, 3.55971, 6.52403, -3.99474, -2.19029, 6.52403, -3.99474, -1.94029, 6.72403, 0.255257, -0.195263, 6.52403, -0.997769, -0.175239, 6.72403, 0.524206, -4.44029, 6.72403, 0.505257, -4.44029, 6.72403, 2.00526, 6.05971, 8.82403, 1.25526, 6.05971, 8.82403, 0.505257, 4.30971, 8.82403, 0.255257, 4.30971, 8.82403, 4.50526, 5.80971, 8.82403, 4.00526)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(2, 3, 4), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(9, 8, 7), PackedInt32Array(12, 11, 10), PackedInt32Array(10, 14, 12), PackedInt32Array(12, 14, 7), PackedInt32Array(7, 14, 13), PackedInt32Array(7, 13, 9), PackedInt32Array(7, 16, 12), PackedInt32Array(12, 16, 15), PackedInt32Array(20, 22, 21), PackedInt32Array(21, 23, 15), PackedInt32Array(15, 23, 17), PackedInt32Array(17, 23, 18), PackedInt32Array(18, 22, 19), PackedInt32Array(19, 22, 20), PackedInt32Array(22, 23, 21), PackedInt32Array(23, 22, 18), PackedInt32Array(15, 16, 21), PackedInt32Array(21, 16, 25), PackedInt32Array(21, 25, 24), PackedInt32Array(27, 26, 28), PackedInt32Array(28, 26, 30), PackedInt32Array(28, 30, 29)]
sample_partition_type = 1
cell_height = 0.1
agent_radius = 0.3

[sub_resource type="BoxShape3D" id="BoxShape3D_s4trp"]
size = Vector3(1.34778, 1.06238, 1.04781)

[node name="PrefabBuilding01" type="Node3D"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_suqte")

[node name="SM_PrototypeBuilding_01" parent="NavigationRegion3D" instance=ExtResource("1_suqte")]

[node name="NavigationLink3D" type="NavigationLink3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.75676, 6.42315, 0.874064)
start_position = Vector3(-3.44, -6.295, 1.833)
end_position = Vector3(-0.1, 0.2, 0)
enter_cost = 2.0
travel_cost = 2.0

[node name="Teleporter" type="Area3D" parent="." node_paths=PackedStringArray("destination_mark")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.14928, 0.225501, 2.62946)
collision_layer = 0
collision_mask = 256
script = ExtResource("2_s4trp")
destination_mark = NodePath("../Teleporter2")
metadata/_custom_type_script = "uid://s2ygu2v0ccp"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Teleporter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0100098, 0.517517, -0.199265)
shape = SubResource("BoxShape3D_s4trp")

[node name="Teleporter2" type="Area3D" parent="." node_paths=PackedStringArray("destination_mark")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.19719, 6.46811, 1.22565)
collision_layer = 0
collision_mask = 256
script = ExtResource("2_s4trp")
destination_mark = NodePath("../Teleporter")
metadata/_custom_type_script = "uid://s2ygu2v0ccp"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Teleporter2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.173889, 0.517517, 0.0239029)
shape = SubResource("BoxShape3D_s4trp")
